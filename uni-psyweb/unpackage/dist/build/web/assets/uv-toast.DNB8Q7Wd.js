var t,e,o,n;import{m as i,a as s,r as a,_ as l,c as r}from"./uv-icon.DNv2e-gP.js";import{a as u,o as p,c,w as d,b as h,D as m,B as f,n as y,A as g,i as v,al as S,d as C,v as b,k as _}from"./index-D_t6mnig.js";import{_ as x}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as $}from"./uv-overlay.B4NbzjME.js";import{_ as w}from"./uv-transition.BGntRoub.js";const k=x({name:"uv-input",mixins:[i,s,{props:{value:{type:[String,Number],default:""},modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},disabled:{type:Boolean,default:!1},disabledColor:{type:String,default:"#f5f7fa"},clearable:{type:Boolean,default:!1},password:{type:Boolean,default:!1},maxlength:{type:[String,Number],default:-1},placeholder:{type:String,default:null},placeholderClass:{type:String,default:"input-placeholder"},placeholderStyle:{type:[String,Object],default:"color: #c0c4cc"},confirmType:{type:String,default:"done"},confirmHold:{type:Boolean,default:!1},holdKeyboard:{type:Boolean,default:!1},focus:{type:Boolean,default:!1},autoBlur:{type:Boolean,default:!1},cursor:{type:[String,Number],default:-1},cursorSpacing:{type:[String,Number],default:30},selectionStart:{type:[String,Number],default:-1},selectionEnd:{type:[String,Number],default:-1},adjustPosition:{type:Boolean,default:!0},inputAlign:{type:String,default:"left"},fontSize:{type:[String,Number],default:"14px"},color:{type:String,default:"#303133"},prefixIcon:{type:String,default:""},prefixIconStyle:{type:[String,Object],default:""},suffixIcon:{type:String,default:""},suffixIconStyle:{type:[String,Object],default:""},border:{type:String,default:"surround"},readonly:{type:Boolean,default:!1},shape:{type:String,default:"square"},formatter:{type:[Function,null],default:null},ignoreCompositionEvent:{type:Boolean,default:!0},...null==(e=null==(t=uni.$uv)?void 0:t.props)?void 0:e.input}}],data:()=>({innerValue:"",focused:!1,innerFormatter:t=>t}),created(){this.innerValue=this.modelValue},watch:{value(t){this.innerValue=t},modelValue(t){this.innerValue=t}},computed:{isShowClear(){const{clearable:t,readonly:e,focused:o,innerValue:n}=this;return!!t&&!e&&!!o&&""!==n},inputClass(){let t=[],{border:e,disabled:o,shape:n}=this;return"surround"===e&&(t=t.concat(["uv-border","uv-input--radius"])),t.push(`uv-input--${n}`),"bottom"===e&&(t=t.concat(["uv-border-bottom","uv-input--no-radius"])),t.join(" ")},wrapperStyle(){const t={};return this.disabled&&(t.backgroundColor=this.disabledColor),"none"===this.border?t.padding="0":(t.paddingTop="6px",t.paddingBottom="6px",t.paddingLeft="9px",t.paddingRight="9px"),this.$uv.deepMerge(t,this.$uv.addStyle(this.customStyle))},inputStyle(){const t={color:this.color,fontSize:this.$uv.addUnit(this.fontSize),textAlign:this.inputAlign};return(this.disabled||this.readonly)&&(t["pointer-events"]="none"),t}},methods:{setFormatter(t){this.innerFormatter=t},onInput(t){let{value:e=""}=t.detail||{};const o=(this.formatter||this.innerFormatter)(e);this.innerValue=e,this.$nextTick((()=>{this.innerValue=o,this.valueChange()}))},onBlur(t){this.$emit("blur",t.detail.value),this.$uv.sleep(100).then((()=>{this.focused=!1})),this.$uv.formValidate(this,"blur")},onFocus(t){this.focused=!0,this.$emit("focus")},onConfirm(t){this.$emit("confirm",this.innerValue)},onkeyboardheightchange(t){this.$emit("keyboardheightchange",t)},valueChange(){this.isClear&&(this.innerValue="");const t=this.innerValue;this.$nextTick((()=>{this.$emit("input",t),this.$emit("update:modelValue",t),this.$emit("change",t),this.$uv.formValidate(this,"change")}))},onClear(){this.innerValue="",this.isClear=!0,this.$uv.sleep(200).then((t=>{this.isClear=!1})),this.$nextTick((()=>{this.$emit("clear"),this.valueChange()}))},clickHandler(){}}},[["render",function(t,e,o,n,i,s){const r=a(u("uv-icon"),l),C=v,b=S;return p(),c(C,{class:g(["uv-input",s.inputClass]),style:y([s.wrapperStyle])},{default:d((()=>[h(C,{class:"uv-input__content"},{default:d((()=>[h(C,{class:"uv-input__content__prefix-icon"},{default:d((()=>[m(t.$slots,"prefix",{},(()=>[t.prefixIcon?(p(),c(r,{key:0,name:t.prefixIcon,size:"18",customStyle:t.prefixIconStyle},null,8,["name","customStyle"])):f("",!0)]),!0)])),_:3}),h(C,{class:"uv-input__content__field-wrapper",onClick:s.clickHandler},{default:d((()=>[h(b,{class:"uv-input__content__field-wrapper__field",style:y([s.inputStyle]),type:t.type,focus:t.focus,cursor:t.cursor,value:i.innerValue,"auto-blur":t.autoBlur,disabled:t.disabled||t.readonly,maxlength:t.maxlength,placeholder:t.placeholder,"placeholder-style":t.placeholderStyle,"placeholder-class":t.placeholderClass,"confirm-type":t.confirmType,"confirm-hold":t.confirmHold,"hold-keyboard":t.holdKeyboard,"cursor-spacing":t.cursorSpacing,"adjust-position":t.adjustPosition,"selection-end":t.selectionEnd,"selection-start":t.selectionStart,password:t.password||"password"===t.type||void 0,ignoreCompositionEvent:t.ignoreCompositionEvent,onInput:s.onInput,onBlur:s.onBlur,onFocus:s.onFocus,onConfirm:s.onConfirm,onKeyboardheightchange:s.onkeyboardheightchange},null,8,["style","type","focus","cursor","value","auto-blur","disabled","maxlength","placeholder","placeholder-style","placeholder-class","confirm-type","confirm-hold","hold-keyboard","cursor-spacing","adjust-position","selection-end","selection-start","password","ignoreCompositionEvent","onInput","onBlur","onFocus","onConfirm","onKeyboardheightchange"])])),_:1},8,["onClick"]),s.isShowClear?(p(),c(C,{key:0,class:"uv-input__content__clear",onClick:s.onClear},{default:d((()=>[h(r,{name:"close",size:"11",color:"#ffffff",customStyle:"line-height: 12px"})])),_:1},8,["onClick"])):f("",!0),h(C,{class:"uv-input__content__subfix-icon"},{default:d((()=>[m(t.$slots,"suffix",{},(()=>[t.suffixIcon?(p(),c(r,{key:0,name:t.suffixIcon,size:"18",customStyle:t.suffixIconStyle},null,8,["name","customStyle"])):f("",!0)]),!0)])),_:3})])),_:3})])),_:3},8,["class","style"])}],["__scopeId","data-v-7b2b9846"]]);const I=x({name:"uv-gap",mixins:[i,s,{props:{bgColor:{type:String,default:"transparent"},height:{type:[String,Number],default:20},marginTop:{type:[String,Number],default:0},marginBottom:{type:[String,Number],default:0},...null==(n=null==(o=uni.$uv)?void 0:o.props)?void 0:n.gap}}],computed:{gapStyle(){const t={backgroundColor:this.bgColor,height:this.$uv.addUnit(this.height),marginTop:this.$uv.addUnit(this.marginTop),marginBottom:this.$uv.addUnit(this.marginBottom)};return this.$uv.deepMerge(t,this.$uv.addStyle(this.customStyle))}}},[["render",function(t,e,o,n,i,s){const a=v;return p(),c(a,{class:"uv-gap",style:y([s.gapStyle])},null,8,["style"])}]]);const B=x({name:"uv-toast",mixins:[i,s],data:()=>({isShow:!1,timer:null,config:{message:"",type:"",duration:2e3,icon:!0,position:"center",complete:null,overlay:!0,loading:!1,zIndex:10090},tmpConfig:{},rect:{},opacity:0}),computed:{iconName(){return this.tmpConfig.icon&&"none"!=this.tmpConfig.icon&&["error","warning","success","primary"].includes(this.tmpConfig.type)?this.$uv.type2icon(this.tmpConfig.type):""},overlayStyle(){const t={justifyContent:"center",alignItems:"center",display:"flex",zIndex:this.tmpConfig.zIndex,backgroundColor:"rgba(0, 0, 0, 0)"};return t},iconStyle(){const t={marginRight:"4px"};return t},aniStyle(){return{position:"fixed",zIndex:this.tmpConfig.zIndex}},contentStyle(){this.$uv.sys();const t={position:"fixed",top:"50%",left:"50%"};let e=0;return"top"===this.tmpConfig.position?t.top="25%":"bottom"===this.tmpConfig.position?t.top="75%":e="-50%",t.transform=`translate(-50%,${e})`,t}},created(){["primary","success","error","warning","default","loading"].map((t=>{this[t]=e=>this.show({type:t,message:e})}))},methods:{show(t){this.tmpConfig=this.$uv.deepMerge(this.config,t),this.clearTimer(),this.isShow=!0,this.timer=setTimeout((()=>{this.clearTimer(),"function"==typeof this.tmpConfig.complete&&this.tmpConfig.complete()}),this.tmpConfig.duration)},queryRect(){return new Promise((t=>{const e=this.$refs.uvToastContent;dom.getComponentRect(e,(e=>{t(e.size)}))}))},hide(){this.clearTimer()},clearTimer(){this.isShow=!1,clearTimeout(this.timer),this.timer=null}},unmounted(){this.clearTimer()}},[["render",function(t,e,o,n,i,s){const m=a(u("uv-overlay"),$),S=a(u("uv-loading-icon"),r),x=a(u("uv-icon"),l),k=a(u("uv-gap"),I),B=_,T=v,V=a(u("uv-transition"),w);return p(),c(T,{class:"uv-toast"},{default:d((()=>[h(m,{show:i.isShow&&i.tmpConfig.overlay,"custom-style":s.overlayStyle},null,8,["show","custom-style"]),h(V,{show:i.isShow,mode:"fade","custom-style":s.aniStyle},{default:d((()=>[h(T,{class:g(["uv-toast__content",["uv-type-"+i.tmpConfig.type,"loading"===i.tmpConfig.type||i.tmpConfig.loading?"uv-toast__content--loading":""]]),ref:"uvToastContent",style:y([s.contentStyle])},{default:d((()=>["loading"===i.tmpConfig.type?(p(),c(S,{key:0,mode:"circle",color:"rgb(255, 255, 255)",inactiveColor:"rgb(120, 120, 120)",size:"25"})):"defalut"!==i.tmpConfig.type&&s.iconName?(p(),c(x,{key:1,name:s.iconName,size:"17",color:i.tmpConfig.type,customStyle:s.iconStyle},null,8,["name","color","customStyle"])):f("",!0),"loading"===i.tmpConfig.type||i.tmpConfig.loading?(p(),c(k,{key:2,height:"12",bgColor:"transparent"})):f("",!0),h(B,{class:g(["uv-toast__content__text",["uv-toast__content__text--"+i.tmpConfig.type]]),style:{"max-width":"400rpx"}},{default:d((()=>[C(b(i.tmpConfig.message),1)])),_:1},8,["class"])])),_:1},8,["style","class"])])),_:1},8,["show","custom-style"])])),_:1})}],["__scopeId","data-v-618db97c"]]);export{k as _,B as a,I as b};
