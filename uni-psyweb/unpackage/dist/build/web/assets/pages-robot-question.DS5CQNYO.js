import{l as e,Z as s,a,e as t,b as o,n as l,u as r,w as u,F as i,i as n,o as c,d as p,f as m,c as d,v,G as f,p as _}from"./index-D_t6mnig.js";import{_ as b,a as y}from"./uv-radio-group.CtE8b7Vo.js";import{r as g}from"./uv-icon.DNv2e-gP.js";import{_ as h,a as j}from"./uv-form.fPMLN1Jp.js";import{_ as x}from"./uv-button.MXP0QCgh.js";import{g as q,a as $}from"./system.BKBl34T1.js";import{_ as k}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uv-transition.BGntRoub.js";import"./uv-line.DzR924X1.js";const V=k({__name:"question",setup(k){const V=e(s("chatScale")),w=e(null),S=e(V.value.question.reduce(((e,s,a)=>(e[`option${a+1}`]={question:s.title,score:1},e)),{})),U=e(V.value.question.reduce(((e,s,a)=>(e[`option${a+1}.score`]={type:"number",required:!0,message:"此项为必填项",trigger:["blur","change"]},e)),{}));return(e,s)=>{const k=n,z=g(a("uv-radio"),b),B=g(a("uv-radio-group"),y),C=g(a("uv-form-item"),h),F=g(a("uv-button"),x),G=g(a("uv-form"),j);return c(),t(i,null,[o(k,{class:"status_bar",style:l({height:r(q)()+"px"})},null,8,["style"]),o(k,{class:"titleBar",style:l({height:r($)()+"px"})},{default:u((()=>[o(k,{class:"navTitle"},{default:u((()=>[p(" 辅助评估 ")])),_:1})])),_:1},8,["style"]),o(k,{class:"question"},{default:u((()=>[o(G,{model:S.value,rules:U.value,ref_key:"formRef",ref:w},{default:u((()=>[(c(!0),t(i,null,m(V.value.question,((e,s)=>(c(),d(C,{prop:`option${s+1}.score`,labelWidth:"16rpx"},{default:u((()=>[(c(),d(B,{modelValue:S.value[`option${s+1}`].score,"onUpdate:modelValue":e=>S.value[`option${s+1}`].score=e,key:s,placement:"column"},{default:u((()=>[o(k,{class:"questioncontent"},{default:u((()=>[p(v(s+1)+". "+v(e.title),1)])),_:2},1024),(c(!0),t(i,null,m(e.option,((s,a)=>(c(),d(z,{customStyle:{margin:"8px"},key:e.title,label:s.answer,name:s.score,labelSize:"26rpx"},null,8,["label","name"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"]))])),_:2},1032,["prop"])))),256)),o(F,{type:"primary",text:"提交",onClick:s[0]||(s[0]=e=>{w.value.validate().then((e=>{f({icon:"success",title:"校验通过"});const s=Object.values(S.value).reduce(((e,s)=>e+s.score),0);_({url:"/pages/scale/result?score="+s})})).catch((e=>{f({icon:"error",title:"校验失败"})}))}),class:"submit"})])),_:1},8,["model","rules"])])),_:1}),o(k,{class:"safe-area-inset-bottom"})],64)}}},[["__scopeId","data-v-819ee455"]]);export{V as default};
