var t,e;import{a as o,o as l,c as a,w as n,b as s,n as r,d as u,v as i,B as d,D as p,A as c,k as _,i as m}from"./index-D_t6mnig.js";import{_ as f}from"./uv-line.DzR924X1.js";import{m as y,a as v,r as g,c as h}from"./uv-icon.DNv2e-gP.js";import{_ as w}from"./uv-popup.CvTR393n.js";import{_ as C}from"./_plugin-vue_export-helper.BCo6x5W8.js";const x=C({name:"uv-modal",mixins:[y,v,{props:{title:{type:[String],default:""},content:{type:String,default:""},confirmText:{type:String,default:"确认"},cancelText:{type:String,default:"取消"},showConfirmButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!1},confirmColor:{type:String,default:"#2979ff"},cancelColor:{type:String,default:"#606266"},buttonReverse:{type:Boolean,default:!1},zoom:{type:Boolean,default:!0},zIndex:{type:[String,Number],default:10075},asyncClose:{type:Boolean,default:!1},closeOnClickOverlay:{type:Boolean,default:!0},negativeTop:{type:[String,Number],default:0},width:{type:[String,Number],default:"650rpx"},align:{type:String,default:"left"},textStyle:{type:[Object,String],default:""},...null==(e=null==(t=uni.$uv)?void 0:t.props)?void 0:e.modal}}],data:()=>({loading:!1}),computed:{nvueStyle:()=>({})},methods:{open(){this.$refs.modalPopup.open(),this.loading&&(this.loading=!1)},close(){this.$refs.modalPopup.close()},popupChange(t){t.show||this.$emit("close")},confirmHandler(){this.loading||this.$emit("confirm"),this.asyncClose?this.loading=!0:this.close()},cancelHandler(){this.$emit("cancel"),this.close()},closeLoading(){this.$nextTick((()=>{this.loading=!1}))}}},[["render",function(t,e,y,v,C,x){const B=_,b=m,S=g(o("uv-line"),f),k=g(o("uv-loading-icon"),h),$=g(o("uv-popup"),w);return l(),a($,{ref:"modalPopup",mode:"center",zoom:t.zoom,zIndex:t.zIndex,customStyle:{borderRadius:"6px",overflow:"hidden",marginTop:`-${t.$uv.addUnit(t.negativeTop)}`},closeOnClickOverlay:t.closeOnClickOverlay,safeAreaInsetBottom:!1,duration:400,onChange:x.popupChange},{default:n((()=>[s(b,{class:"uv-modal",style:r({width:t.$uv.addUnit(t.width)})},{default:n((()=>[t.title?(l(),a(B,{key:0,class:"uv-modal__title"},{default:n((()=>[u(i(t.title),1)])),_:1})):d("",!0),s(b,{class:"uv-modal__content",style:r({paddingTop:(t.title?12:25)+"px"})},{default:n((()=>[p(t.$slots,"default",{},(()=>[s(B,{class:"uv-modal__content__text",style:r([{textAlign:t.align},x.nvueStyle,t.$uv.addStyle(t.textStyle)])},{default:n((()=>[u(i(t.content),1)])),_:1},8,["style"])]),!0)])),_:3},8,["style"]),p(t.$slots,"confirmButton",{},(()=>[s(S),t.showConfirmButton||t.showCancelButton?(l(),a(b,{key:0,class:"uv-modal__button-group",style:r({flexDirection:t.buttonReverse?"row-reverse":"row"})},{default:n((()=>[t.showCancelButton?(l(),a(b,{key:0,class:c(["uv-modal__button-group__wrapper uv-modal__button-group__wrapper--cancel",[t.showCancelButton&&!t.showConfirmButton&&"uv-modal__button-group__wrapper--only-cancel"]]),"hover-stay-time":150,"hover-class":"uv-modal__button-group__wrapper--hover",onClick:x.cancelHandler},{default:n((()=>[s(B,{class:"uv-modal__button-group__wrapper__text",style:r({color:t.cancelColor})},{default:n((()=>[u(i(t.cancelText),1)])),_:1},8,["style"])])),_:1},8,["class","onClick"])):d("",!0),t.showConfirmButton&&t.showCancelButton?(l(),a(S,{key:1,direction:"column"})):d("",!0),t.showConfirmButton?(l(),a(b,{key:2,class:c(["uv-modal__button-group__wrapper uv-modal__button-group__wrapper--confirm",[!t.showCancelButton&&t.showConfirmButton&&"uv-modal__button-group__wrapper--only-confirm"]]),"hover-stay-time":150,"hover-class":"uv-modal__button-group__wrapper--hover",onClick:x.confirmHandler},{default:n((()=>[C.loading?(l(),a(k,{key:0})):(l(),a(B,{key:1,class:"uv-modal__button-group__wrapper__text",style:r({color:t.confirmColor})},{default:n((()=>[u(i(t.confirmText),1)])),_:1},8,["style"]))])),_:1},8,["class","onClick"])):d("",!0)])),_:1},8,["style"])):d("",!0)]),!0)])),_:3},8,["style"])])),_:3},8,["zoom","zIndex","customStyle","closeOnClickOverlay","onChange"])}],["__scopeId","data-v-6a64dca2"]]);export{x as _};
