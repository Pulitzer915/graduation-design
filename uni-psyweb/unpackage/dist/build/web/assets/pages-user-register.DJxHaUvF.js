var e,t,a,i,n,s,r,o,l,u;import{Z as c,_ as h,aj as d,o as m,c as p,i as f,a as g,w as v,b as y,A as b,y as $,n as C,D as S,d as k,v as _,k as D,B as x,e as w,F as M,f as T,l as V,u as O,ak as z,W as I,H as B,g as N}from"./index-D_t6mnig.js";import{b as H,_ as A,a as P}from"./uv-toast.DNB8Q7Wd.js";import{m as j,a as Y,r as F,_ as L,c as U,g as q}from"./uv-icon.DNv2e-gP.js";import{_ as E,a as Z}from"./uv-form.fPMLN1Jp.js";import{_ as W}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as R}from"./uv-button.MXP0QCgh.js";import{_ as G}from"./uv-line.DzR924X1.js";import{_ as K}from"./uv-popup.CvTR393n.js";import{_ as J}from"./uv-picker.swcaLSJq.js";import{_ as X}from"./goback.DYk21IgB.js";import{g as Q,a as ee}from"./system.BKBl34T1.js";import"./uv-overlay.B4NbzjME.js";import"./uv-transition.BGntRoub.js";const te={props:{lang:String,sessionFrom:String,sendMessageTitle:String,sendMessagePath:String,sendMessageImg:String,showMessageCard:Boolean,appParameter:String,formType:String,openType:String}},ae={props:{openType:String},emits:["getphonenumber","getuserinfo","error","opensetting","launchapp","contact","chooseavatar","addgroupapp","chooseaddress","subscribe","login","im"],methods:{onGetPhoneNumber(e){this.$emit("getphonenumber",e.detail)},onGetUserInfo(e){this.$emit("getuserinfo",e.detail)},onError(e){this.$emit("error",e.detail)},onOpenSetting(e){this.$emit("opensetting",e.detail)},onLaunchApp(e){this.$emit("launchapp",e.detail)},onContact(e){this.$emit("contact",e.detail)},onChooseavatar(e){this.$emit("chooseavatar",e.detail)},onAgreeprivacyauthorization(e){this.$emit("agreeprivacyauthorization",e.detail)},onAddgroupapp(e){this.$emit("addgroupapp",e.detail)},onChooseaddress(e){this.$emit("chooseaddress",e.detail)},onSubscribe(e){this.$emit("subscribe",e.detail)},onLogin(e){this.$emit("login",e.detail)},onIm(e){this.$emit("im",e.detail)}}};const ie=W({name:"uv-code",mixins:[j,Y,{props:{seconds:{type:[String,Number],default:60},startText:{type:String,default:"获取验证码"},changeText:{type:String,default:"X秒重新获取"},endText:{type:String,default:"重新获取"},keepRunning:{type:Boolean,default:!1},uniqueKey:{type:String,default:""},...null==(t=null==(e=uni.$uv)?void 0:e.props)?void 0:t.code}}],data(){return{secNum:this.seconds,timer:null,canGetCode:!0}},mounted(){this.checkKeepRunning()},watch:{seconds:{immediate:!0,handler(e){this.secNum=e}}},methods:{checkKeepRunning(){let e=Number(c(this.uniqueKey+"_$uCountDownTimestamp"));if(!e)return this.changeEvent(this.startText);let t=Math.floor(+new Date/1e3);this.keepRunning&&e&&e>t?(this.secNum=e-t,h(this.uniqueKey+"_$uCountDownTimestamp"),this.start()):this.changeEvent(this.startText)},start(){this.timer&&(clearInterval(this.timer),this.timer=null),this.$emit("start"),this.canGetCode=!1,this.changeEvent(this.changeText.replace(/x|X/,this.secNum)),this.timer=setInterval((()=>{--this.secNum?this.changeEvent(this.changeText.replace(/x|X/,this.secNum)):(clearInterval(this.timer),this.timer=null,this.changeEvent(this.endText),this.secNum=this.seconds,this.$emit("end"),this.canGetCode=!0)}),1e3),this.setTimeToStorage()},reset(){this.canGetCode=!0,clearInterval(this.timer),this.secNum=this.seconds,this.changeEvent(this.endText)},changeEvent(e){this.$emit("change",e)},setTimeToStorage(){if(this.keepRunning&&this.timer&&this.secNum>0&&this.secNum<=this.seconds){let e=Math.floor(+new Date/1e3);d({key:this.uniqueKey+"_$uCountDownTimestamp",data:e+Number(this.secNum)})}}},unmounted(){this.setTimeToStorage(),clearTimeout(this.timer),this.timer=null}},[["render",function(e,t,a,i,n,s){const r=f;return m(),p(r,{class:"uv-code"})}]]);const ne=W({name:"uv-checkbox",mixins:[j,Y,{props:{name:{type:[String,Number,Boolean],default:""},shape:{type:String,default:""},size:{type:[String,Number],default:""},checked:{type:Boolean,default:!1},disabled:{type:[String,Boolean],default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},iconSize:{type:[String,Number],default:""},iconColor:{type:String,default:""},label:{type:[String,Number,Boolean],default:""},labelSize:{type:[String,Number],default:""},labelColor:{type:String,default:""},labelDisabled:{type:[String,Boolean],default:""},...null==(i=null==(a=uni.$uv)?void 0:a.props)?void 0:i.checkbox}}],data:()=>({isChecked:!1,parentData:{iconSize:12,labelDisabled:null,disabled:null,shape:"square",activeColor:null,inactiveColor:null,size:18,value:null,modelValue:null,iconColor:null,placement:"row",borderBottom:!1,iconPlacement:"left",labelSize:14,labelColor:"#303133"}}),computed:{elDisabled(){return""!==this.disabled?this.disabled:null!==this.parentData.disabled&&this.parentData.disabled},elLabelDisabled(){return""!==this.labelDisabled?this.labelDisabled:null!==this.parentData.labelDisabled&&this.parentData.labelDisabled},elSize(){return this.size?this.size:this.parentData.size?this.parentData.size:21},elIconSize(){return this.iconSize?this.iconSize:this.parentData.iconSize?this.parentData.iconSize:12},elActiveColor(){return this.activeColor?this.activeColor:this.parentData.activeColor?this.parentData.activeColor:"#2979ff"},elInactiveColor(){return this.inactiveColor?this.inactiveColor:this.parentData.inactiveColor?this.parentData.inactiveColor:"#c8c9cc"},elLabelColor(){return this.labelColor?this.labelColor:this.parentData.labelColor?this.parentData.labelColor:"#606266"},elShape(){return this.shape?this.shape:this.parentData.shape?this.parentData.shape:"circle"},elLabelSize(){return this.$uv.addUnit(this.labelSize?this.labelSize:this.parentData.labelSize?this.parentData.labelSize:"15")},elIconColor(){const e=this.iconColor?this.iconColor:this.parentData.iconColor?this.parentData.iconColor:"#ffffff";return this.elDisabled?this.isChecked?this.elInactiveColor:"transparent":this.isChecked?e:"transparent"},iconClasses(){let e=[];return e.push("uv-checkbox__icon-wrap--"+this.elShape),this.elDisabled&&e.push("uv-checkbox__icon-wrap--disabled"),this.isChecked&&this.elDisabled&&e.push("uv-checkbox__icon-wrap--disabled--checked"),e},iconWrapStyle(){const e={};return e.backgroundColor=this.isChecked&&!this.elDisabled?this.elActiveColor:"#ffffff",e.borderColor=this.isChecked&&!this.elDisabled?this.elActiveColor:this.elInactiveColor,e.width=this.$uv.addUnit(this.elSize),e.height=this.$uv.addUnit(this.elSize),"right"===this.parentData.iconPlacement&&(e.marginRight=0),e},checkboxStyle(){const e={};return this.parentData.borderBottom&&"row"===this.parentData.placement&&this.$uv.error("检测到您将borderBottom设置为true，需要同时将uv-checkbox-group的placement设置为column才有效"),this.parentData.borderBottom&&"column"===this.parentData.placement&&(e.paddingBottom="8px"),this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))}},created(){this.init()},methods:{init(){this.updateParentData(),this.parent||this.$uv.error("uv-checkbox必须搭配uv-checkbox-group组件使用"),this.$nextTick((()=>{let e=[];this.parentData.value.length?e=this.parentData.value:this.parentData.modelValue.length&&(e=this.parentData.modelValue),this.checked?this.isChecked=!0:this.$uv.test.array(e)&&(this.isChecked=e.some((e=>e===this.name)))}))},updateParentData(){this.getParentData("uv-checkbox-group")},wrapperClickHandler(e){"right"===this.parentData.iconPlacement&&this.iconClickHandler(e)},iconClickHandler(e){this.preventEvent(e),this.elDisabled||this.setRadioCheckedStatus()},labelClickHandler(e){this.preventEvent(e),this.elLabelDisabled||this.elDisabled||this.setRadioCheckedStatus()},emitEvent(){this.$emit("change",this.isChecked),this.$nextTick((()=>{this.$uv.formValidate(this,"change")}))},setRadioCheckedStatus(){this.isChecked=!this.isChecked,this.emitEvent(),"function"==typeof this.parent.unCheckedOther&&this.parent.unCheckedOther(this)}},watch:{checked(){this.isChecked=this.checked}}},[["render",function(e,t,a,i,n,s){const r=F(g("uv-icon"),L),o=f,l=D;return m(),p(o,{class:b(["uv-checkbox",[`uv-checkbox-label--${n.parentData.iconPlacement}`,n.parentData.borderBottom&&"column"===n.parentData.placement&&"uv-border-bottom"]]),style:C([s.checkboxStyle]),onClick:$(s.wrapperClickHandler,["stop"])},{default:v((()=>[y(o,{class:b(["uv-checkbox__icon-wrap",s.iconClasses]),onClick:$(s.iconClickHandler,["stop"]),style:C([s.iconWrapStyle])},{default:v((()=>[S(e.$slots,"icon",{},(()=>[y(r,{class:"uv-checkbox__icon-wrap__icon",name:"checkbox-mark",size:s.elIconSize,color:s.elIconColor},null,8,["size","color"])]),!0)])),_:3},8,["onClick","class","style"]),y(o,{class:"uv-checkbox__label-wrap",onClick:$(s.labelClickHandler,["stop"])},{default:v((()=>[S(e.$slots,"default",{},(()=>[y(l,{style:C({color:s.elDisabled?s.elInactiveColor:s.elLabelColor,fontSize:s.elLabelSize,lineHeight:s.elLabelSize})},{default:v((()=>[k(_(e.label),1)])),_:1},8,["style"])]),!0)])),_:3},8,["onClick"])])),_:3},8,["style","onClick","class"])}],["__scopeId","data-v-351a1a67"]]);const se=W({name:"uv-checkbox-group",mixins:[j,Y,{props:{value:{type:Array,default:()=>[]},modelValue:{type:Array,default:()=>[]},name:{type:String,default:""},shape:{type:String,default:"square"},disabled:{type:Boolean,default:!1},activeColor:{type:String,default:"#2979ff"},inactiveColor:{type:String,default:"#c8c9cc"},size:{type:[String,Number],default:18},placement:{type:String,default:"row"},labelSize:{type:[String,Number],default:14},labelColor:{type:[String],default:"#303133"},labelDisabled:{type:Boolean,default:!1},iconColor:{type:String,default:"#fff"},iconSize:{type:[String,Number],default:12},iconPlacement:{type:String,default:"left"},borderBottom:{type:Boolean,default:!1},...null==(s=null==(n=uni.$uv)?void 0:n.props)?void 0:s.checkboxGroup}}],computed:{parentData(){let e=[];return this.value.length?e=this.value:this.modelValue.length&&(e=this.modelValue),[e,this.disabled,this.inactiveColor,this.activeColor,this.size,this.labelDisabled,this.shape,this.iconSize,this.borderBottom,this.placement,this.labelSize,this.labelColor]},bemClass(){return this.bem("checkbox-group",["placement"])}},watch:{parentData(){this.children.length&&this.children.map((e=>{"function"==typeof e.init&&e.init()}))}},data:()=>({}),created(){this.children=[]},methods:{unCheckedOther(e){const t=[];this.children.map((e=>{e.isChecked&&t.push(e.name)})),this.$emit("update:modelValue",t),this.$emit("change",t)}}},[["render",function(e,t,a,i,n,s){const r=f;return m(),p(r,{class:b(["uv-checkbox-group",s.bemClass]),style:C([e.$uv.addStyle(this.customStyle)])},{default:v((()=>[S(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])}],["__scopeId","data-v-287a150a"]]);const re=W({name:"uv-action-sheet",mixins:[ae,te,j,Y,{props:{title:{type:String,default:""},description:{type:String,default:""},actions:{type:Array,default:()=>[]},cancelText:{type:String,default:""},closeOnClickAction:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0},openType:{type:String,default:""},closeOnClickOverlay:{type:Boolean,default:!0},round:{type:[Boolean,String,Number],default:0},...null==(o=null==(r=uni.$uv)?void 0:r.props)?void 0:o.actionSheet}}],emits:["close","select"],computed:{itemStyle(){return e=>{let t={};return this.actions[e].color&&(t.color=this.actions[e].color),this.actions[e].fontSize&&(t.fontSize=this.$uv.addUnit(this.actions[e].fontSize)),this.actions[e].disabled&&(t.color="#c0c4cc"),t}}},methods:{open(){this.$refs.popup.open()},close(){this.$refs.popup.close()},popupChange(e){e.show||this.$emit("close")},cancel(){this.close()},selectHandler(e){const t=this.actions[e];!t||t.disabled||t.loading||(this.$emit("select",t),this.closeOnClickAction&&this.close())}}},[["render",function(e,t,a,i,n,s){const r=D,o=F(g("uv-icon"),L),l=f,u=F(g("uv-line"),G),c=F(g("uv-loading-icon"),U),h=F(g("uv-gap"),H),d=F(g("uv-popup"),K);return m(),p(d,{ref:"popup",mode:"bottom",safeAreaInsetBottom:e.safeAreaInsetBottom,round:e.round,"close-on-click-overlay":e.closeOnClickOverlay,onChange:s.popupChange},{default:v((()=>[y(l,{class:"uv-action-sheet"},{default:v((()=>[e.title?(m(),p(l,{key:0,class:"uv-action-sheet__header"},{default:v((()=>[y(r,{class:"uv-action-sheet__header__title uv-line-1"},{default:v((()=>[k(_(e.title),1)])),_:1}),y(l,{class:"uv-action-sheet__header__icon-wrap",onClick:$(s.cancel,["stop"])},{default:v((()=>[y(o,{name:"close",size:"17",color:"#c8c9cc",bold:""})])),_:1},8,["onClick"])])),_:1})):x("",!0),e.description?(m(),p(r,{key:1,class:"uv-action-sheet__description",style:C([{marginTop:`${e.title&&e.description?0:"18px"}`}])},{default:v((()=>[k(_(e.description),1)])),_:1},8,["style"])):x("",!0),S(e.$slots,"default",{},(()=>[e.description?(m(),p(u,{key:0})):x("",!0),y(l,{class:"uv-action-sheet__item-wrap"},{default:v((()=>[(m(!0),w(M,null,T(e.actions,((t,a)=>(m(),p(l,{key:a},{default:v((()=>[y(l,{class:"uv-action-sheet__item-wrap__item",onClick:$((e=>s.selectHandler(a)),["stop"]),"hover-class":t.disabled||t.loading?"":"uv-action-sheet--hover","hover-stay-time":150},{default:v((()=>[t.loading?(m(),p(c,{key:1,"custom-class":"van-action-sheet__loading",size:"18",mode:"circle"})):(m(),w(M,{key:0},[y(r,{class:"uv-action-sheet__item-wrap__item__name",style:C([s.itemStyle(a)])},{default:v((()=>[k(_(t.name),1)])),_:2},1032,["style"]),t.subname?(m(),p(r,{key:0,class:"uv-action-sheet__item-wrap__item__subname"},{default:v((()=>[k(_(t.subname),1)])),_:2},1024)):x("",!0)],64))])),_:2},1032,["onClick","hover-class"]),a!==e.actions.length-1?(m(),p(u,{key:0})):x("",!0)])),_:2},1024)))),128))])),_:1})]),!0),e.cancelText?(m(),p(h,{key:2,bgColor:"#eaeaec",height:"6"})):x("",!0),y(l,{"hover-class":"uv-action-sheet--hover"},{default:v((()=>[e.cancelText?(m(),p(r,{key:0,onTouchmove:t[0]||(t[0]=$((()=>{}),["stop","prevent"])),"hover-stay-time":150,class:"uv-action-sheet__cancel-text",onClick:s.cancel},{default:v((()=>[k(_(e.cancelText),1)])),_:1},8,["onClick"])):x("",!0)])),_:1})])),_:3})])),_:3},8,["safeAreaInsetBottom","round","close-on-click-overlay","onChange"])}],["__scopeId","data-v-bae390c6"]]),oe={props:{value:{type:[String,Number],default:""},modelValue:{type:[String,Number],default:""},show:{type:Boolean,default:!1},showToolbar:{type:Boolean,default:!0},title:{type:String,default:""},mode:{type:String,default:"datetime"},maxDate:{type:Number,default:new Date((new Date).getFullYear()+10,0,1).getTime()},minDate:{type:Number,default:new Date((new Date).getFullYear()-10,0,1).getTime()},minHour:{type:Number,default:0},maxHour:{type:Number,default:23},minMinute:{type:Number,default:0},maxMinute:{type:Number,default:59},filter:{type:[Function,null],default:null},formatter:{type:[Function,null],default:null},loading:{type:Boolean,default:!1},itemHeight:{type:[String,Number],default:44},cancelText:{type:String,default:"取消"},confirmText:{type:String,default:"确认"},cancelColor:{type:String,default:"#909193"},confirmColor:{type:String,default:"#3c9cff"},visibleItemCount:{type:[String,Number],default:5},closeOnClickOverlay:{type:Boolean,default:!0},closeOnClickConfirm:{type:Boolean,default:!0},clearDate:{type:Boolean,default:!1},round:{type:[String,Number],default:0},...null==(u=null==(l=uni.$uv)?void 0:l.props)?void 0:u.datetimePicker}};var le,ue,ce=Object.getOwnPropertyNames;const he=(le={uvuidayjs(e,t){var a,i;a=e,i=function(){var e=6e4,t=36e5,a="millisecond",i="second",n="minute",s="hour",r="day",o="week",l="month",u="quarter",c="year",h="date",d="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],a=e%100;return"["+e+(t[(a-20)%10]||t[a]||t[0])+"]"}},g=function(e,t,a){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(a)+e},v={s:g,z:function(e){var t=-e.utcOffset(),a=Math.abs(t),i=Math.floor(a/60),n=a%60;return(t<=0?"+":"-")+g(i,2,"0")+":"+g(n,2,"0")},m:function e(t,a){if(t.date()<a.date())return-e(a,t);var i=12*(a.year()-t.year())+(a.month()-t.month()),n=t.clone().add(i,l),s=a-n<0,r=t.clone().add(i+(s?-1:1),l);return+(-(i+(a-n)/(s?n-r:r-n))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:c,w:o,d:r,D:h,h:s,m:n,s:i,ms:a,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",b={};b[y]=f;var $=function(e){return e instanceof _},C=function e(t,a,i){var n;if(!t)return y;if("string"==typeof t){var s=t.toLowerCase();b[s]&&(n=s),a&&(b[s]=a,n=s);var r=t.split("-");if(!n&&r.length>1)return e(r[0])}else{var o=t.name;b[o]=t,n=o}return!i&&n&&(y=n),n||!i&&y},S=function(e,t){if($(e))return e.clone();var a="object"==typeof t?t:{};return a.date=e,a.args=arguments,new _(a)},k=v;k.l=C,k.i=$,k.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var _=function(){function f(e){this.$L=C(e.locale,null,!0),this.parse(e)}var g=f.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,a=e.utc;if(null===t)return new Date(NaN);if(k.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(m);if(i){var n=i[2]-1||0,s=(i[7]||"0").substring(0,3);return a?new Date(Date.UTC(i[1],n,i[3]||1,i[4]||0,i[5]||0,i[6]||0,s)):new Date(i[1],n,i[3]||1,i[4]||0,i[5]||0,i[6]||0,s)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return k},g.isValid=function(){return!(this.$d.toString()===d)},g.isSame=function(e,t){var a=S(e);return this.startOf(t)<=a&&a<=this.endOf(t)},g.isAfter=function(e,t){return S(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<S(e)},g.$g=function(e,t,a){return k.u(e)?this[t]:this.set(a,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var a=this,u=!!k.u(t)||t,d=k.p(e),m=function(e,t){var i=k.w(a.$u?Date.UTC(a.$y,t,e):new Date(a.$y,t,e),a);return u?i:i.endOf(r)},p=function(e,t){return k.w(a.toDate()[e].apply(a.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),a)},f=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(d){case c:return u?m(1,0):m(31,11);case l:return u?m(1,g):m(0,g+1);case o:var b=this.$locale().weekStart||0,$=(f<b?f+7:f)-b;return m(u?v-$:v+(6-$),g);case r:case h:return p(y+"Hours",0);case s:return p(y+"Minutes",1);case n:return p(y+"Seconds",2);case i:return p(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var o,u=k.p(e),d="set"+(this.$u?"UTC":""),m=(o={},o[r]=d+"Date",o[h]=d+"Date",o[l]=d+"Month",o[c]=d+"FullYear",o[s]=d+"Hours",o[n]=d+"Minutes",o[i]=d+"Seconds",o[a]=d+"Milliseconds",o)[u],p=u===r?this.$D+(t-this.$W):t;if(u===l||u===c){var f=this.clone().set(h,1);f.$d[m](p),f.init(),this.$d=f.set(h,Math.min(this.$D,f.daysInMonth())).$d}else m&&this.$d[m](p);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[k.p(e)]()},g.add=function(a,u){var h,d=this;a=Number(a);var m=k.p(u),p=function(e){var t=S(d);return k.w(t.date(t.date()+Math.round(e*a)),d)};if(m===l)return this.set(l,this.$M+a);if(m===c)return this.set(c,this.$y+a);if(m===r)return p(1);if(m===o)return p(7);var f=(h={},h[n]=e,h[s]=t,h[i]=1e3,h)[m]||1,g=this.$d.getTime()+a*f;return k.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,a=this.$locale();if(!this.isValid())return a.invalidDate||d;var i=e||"YYYY-MM-DDTHH:mm:ssZ",n=k.z(this),s=this.$H,r=this.$m,o=this.$M,l=a.weekdays,u=a.months,c=function(e,a,n,s){return e&&(e[a]||e(t,i))||n[a].slice(0,s)},h=function(e){return k.s(s%12||12,e,"0")},m=a.meridiem||function(e,t,a){var i=e<12?"AM":"PM";return a?i.toLowerCase():i},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:k.s(o+1,2,"0"),MMM:c(a.monthsShort,o,u,3),MMMM:c(u,o),D:this.$D,DD:k.s(this.$D,2,"0"),d:String(this.$W),dd:c(a.weekdaysMin,this.$W,l,2),ddd:c(a.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(s),HH:k.s(s,2,"0"),h:h(1),hh:h(2),a:m(s,r,!0),A:m(s,r,!1),m:String(r),mm:k.s(r,2,"0"),s:String(this.$s),ss:k.s(this.$s,2,"0"),SSS:k.s(this.$ms,3,"0"),Z:n};return i.replace(p,(function(e,t){return t||f[e]||n.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(a,h,d){var m,p=k.p(h),f=S(a),g=(f.utcOffset()-this.utcOffset())*e,v=this-f,y=k.m(this,f);return y=(m={},m[c]=y/12,m[l]=y,m[u]=y/3,m[o]=(v-g)/6048e5,m[r]=(v-g)/864e5,m[s]=v/t,m[n]=v/e,m[i]=v/1e3,m)[p]||v,d?y:k.a(y)},g.daysInMonth=function(){return this.endOf(l).$D},g.$locale=function(){return b[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var a=this.clone(),i=C(e,t,!0);return i&&(a.$L=i),a},g.clone=function(){return k.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},f}(),D=_.prototype;return S.prototype=D,[["$ms",a],["$s",i],["$m",n],["$H",s],["$W",r],["$M",l],["$y",c],["$D",h]].forEach((function(e){D[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,_,S),e.$i=!0),S},S.locale=C,S.isDayjs=$,S.unix=function(e){return S(1e3*e)},S.en=b[y],S.Ls=b,S.p={},S},"object"==typeof e&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):(a="undefined"!=typeof globalThis?globalThis:a||self).dayjs=i()}},function(){return ue||(0,le[ce(le)[0]])((ue={exports:{}}).exports,ue),ue.exports})();const de=W({name:"uv-datetime-picker",emits:["close","cancel","confirm","input","change","update:modelValue"],mixins:[j,Y,oe],data:()=>({columns:[],innerDefaultIndex:[],innerFormatter:(e,t)=>t}),watch:{propsChange(){this.init()}},computed:{propsChange(){const e=this.value||this.modelValue;return[this.mode,this.maxDate,this.minDate,this.minHour,this.maxHour,this.minMinute,this.maxMinute,this.filter,e]}},mounted(){this.init()},methods:{init(){this.getValue(),this.updateColumnValue(this.innerValue)},getValue(){const e=this.value||this.modelValue;this.innerValue=this.correctValue(e)},setFormatter(e){this.innerFormatter=e},open(){this.$refs.picker.open(),this.getValue(),this.updateColumnValue(this.innerValue)},close(){this.$emit("close")},cancel(){this.$emit("cancel")},confirm(){this.$emit("confirm",{value:this.innerValue,mode:this.mode}),this.clearDate||(this.$emit("input",this.innerValue),this.$emit("update:modelValue",this.innerValue))},intercept(e,t){let a=e.match(/\d+/g);return a.length>1?(this.$uv.error("请勿在过滤或格式化函数时添加数字"),0):t&&4==a[0].length?a[0]:a[0].length>2?(this.$uv.error("请勿在过滤或格式化函数时添加数字"),0):a[0]},change(e){const{indexs:t,values:a}=e;let i="";if("time"===this.mode)i=`${this.intercept(a[0][t[0]])}:${this.intercept(a[1][t[1]])}`;else if("year"===this.mode){const e=parseInt(this.intercept(a[0][t[0]],"year"));i=Number(new Date(e,0))}else{const e=parseInt(this.intercept(a[0][t[0]],"year")),n=parseInt(this.intercept(a[1][t[1]]));let s=parseInt(a[2]?this.intercept(a[2][t[2]]):1),r=0,o=0;const l=he(`${e}-${n}`).daysInMonth();"year-month"===this.mode&&(s=1),s=Math.min(l,s),"datetime"===this.mode&&(r=parseInt(this.intercept(a[3][t[3]])),o=parseInt(this.intercept(a[4][t[4]]))),i=Number(new Date(e,n-1,s,r,o))}i=this.correctValue(i),this.innerValue=i,this.updateColumnValue(i),this.$emit("change",{value:i,mode:this.mode})},updateColumnValue(e){this.innerValue=e,this.updateColumns(),this.updateIndexs(e)},updateIndexs(e){let t=[];const a=this.formatter||this.innerFormatter;if("time"===this.mode){const i=e.split(":");t=[a("hour",i[0]),a("minute",i[1])]}else t=[a("year",`${he(e).year()}`),a("month",this.$uv.padZero(he(e).month()+1))],"date"===this.mode&&t.push(a("day",this.$uv.padZero(he(e).date()))),"datetime"===this.mode&&t.push(a("day",this.$uv.padZero(he(e).date())),a("hour",this.$uv.padZero(he(e).hour())),a("minute",this.$uv.padZero(he(e).minute())));const i=this.columns.map(((e,a)=>Math.max(0,e.findIndex((e=>e===t[a])))));this.$nextTick((()=>{this.$uv.sleep(100).then((e=>{this.$refs.picker.setIndexs(i,!0)}))}))},updateColumns(){const e=this.formatter||this.innerFormatter,t=this.getOriginColumns().map((t=>t.values.map((a=>e(t.type,a)))));this.columns=t},getOriginColumns(){return this.getRanges().map((({type:e,range:t})=>{let a=function(e,t){let a=-1;const i=Array(e<0?0:e);for(;++a<e;)i[a]=t(a);return i}(t[1]-t[0]+1,(a=>{let i=t[0]+a;return i="year"===e?`${i}`:this.$uv.padZero(i),i}));return this.filter&&(a=this.filter(e,a)),{type:e,values:a}}))},generateArray:(e,t)=>Array.from(new Array(t+1).keys()).slice(e),correctValue(e){const t="time"!==this.mode;if(t&&!this.$uv.test.date(e)?e=this.minDate:t||e||(e=`${this.$uv.padZero(this.minHour)}:${this.$uv.padZero(this.minMinute)}`),t)return e=he(e).isBefore(he(this.minDate))?this.minDate:e,e=he(e).isAfter(he(this.maxDate))?this.maxDate:e;{if(-1===String(e).indexOf(":"))return this.$uv.error("时间错误，请传递如12:24的格式");let[t,a]=e.split(":");return t=this.$uv.padZero(this.$uv.range(this.minHour,this.maxHour,Number(t))),a=this.$uv.padZero(this.$uv.range(this.minMinute,this.maxMinute,Number(a))),`${t}:${a}`}},getRanges(){if("time"===this.mode)return[{type:"hour",range:[this.minHour,this.maxHour]},{type:"minute",range:[this.minMinute,this.maxMinute]}];const{maxYear:e,maxDate:t,maxMonth:a,maxHour:i,maxMinute:n}=this.getBoundary("max",this.innerValue),{minYear:s,minDate:r,minMonth:o,minHour:l,minMinute:u}=this.getBoundary("min",this.innerValue),c=[{type:"year",range:[s,e]},{type:"month",range:[o,a]},{type:"day",range:[r,t]},{type:"hour",range:[l,i]},{type:"minute",range:[u,n]}];return"date"===this.mode&&c.splice(3,2),"year-month"===this.mode&&c.splice(2,3),"year"===this.mode&&c.splice(1,4),c},getBoundary(e,t){const a=new Date(t),i=new Date(this[`${e}Date`]),n=he(i).year();let s=1,r=1,o=0,l=0;return"max"===e&&(s=12,r=he(a).daysInMonth(),o=23,l=59),he(a).year()===n&&(s=he(i).month()+1,he(a).month()+1===s&&(r=he(i).date(),he(a).date()===r&&(o=he(i).hour(),he(a).hour()===o&&(l=he(i).minute())))),{[`${e}Year`]:n,[`${e}Month`]:s,[`${e}Date`]:r,[`${e}Hour`]:o,[`${e}Minute`]:l}}}},[["render",function(e,t,a,i,n,s){const r=F(g("uv-picker"),J);return m(),p(r,{ref:"picker",closeOnClickOverlay:e.closeOnClickOverlay,closeOnClickConfirm:e.closeOnClickConfirm,columns:n.columns,title:e.title,itemHeight:e.itemHeight,showToolbar:e.showToolbar,visibleItemCount:e.visibleItemCount,defaultIndex:n.innerDefaultIndex,cancelText:e.cancelText,confirmText:e.confirmText,cancelColor:e.cancelColor,confirmColor:e.confirmColor,onClose:s.close,onCancel:s.cancel,onConfirm:s.confirm,onChange:s.change,round:e.round},null,8,["closeOnClickOverlay","closeOnClickConfirm","columns","title","itemHeight","showToolbar","visibleItemCount","defaultIndex","cancelText","confirmText","cancelColor","confirmColor","onClose","onCancel","onConfirm","onChange","round"])}]]),me=W({__name:"register",setup(e){q((()=>{}));const t=V([]),a=V(null),i=V(null),n=V(Number(new Date)),s=V(null),r=V(null),o=V(null),l=V({name:"普利策老来俏",gender:"男",birth:1712663295175,password:"lc65120101",rePassword:"lc65120101",email:"1024996926@qq.com",code:"1234"}),u=V({name:{type:"string",required:!0,message:"请填写姓名",trigger:["blur","change"]},gender:{type:"string",max:1,required:!0,message:"请选择男或女",trigger:["blur","change"]},birth:{type:"number",required:!0,message:"请选择出生日期",trigger:["blur","change"]},password:{type:"string",required:!0,message:"请填写密码",trigger:["blur","change"]},rePassword:[{type:"string",required:!0,message:"请再次输入密码",trigger:"blur"},{validator:(e,t,a)=>{t!==l.value.password?a(new Error("两次输入的密码不一致")):a()},trigger:"blur"}],email:{type:"email",required:!0,message:"请输入正确的邮箱地址",trigger:["blur","change"]},code:{type:"string",required:!0,message:"请输入验证码",trigger:["blur","change"]}}),c=V([{name:"男",value:"男"},{name:"女",value:"女"}]),h=V("获取验证码"),d=V(!1),p=()=>{z(),i.value.open()},b=e=>{l.value.gender=e.value,a.value.validateField("gender")},$=()=>{z(),s.value.open()},S=e=>{const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},D=e=>{l.value.birth=e.value,a.value.validateField("birth")},x=()=>{d.value=!0,r.value.start(),I({url:"http://www.farm.com/email_send",method:"POST",data:{email:l.value.email},success:({data:e})=>{200==e.code?o.value.show({message:e.message,type:"success",duration:"1000"}):o.value.show({message:e.message,type:"error",duration:"1000"})},fail:e=>{o.value.show({message:"请求发送失败",type:"error",duration:"1000"})},complete:()=>{}})},T=e=>{h.value=e},H=()=>{d.value=!1},j=()=>{0!=t.value.length?a.value.validate().then((e=>{o.value.show({message:"已提交",type:"primary ",duration:"1000"}),I({url:"http://www.farm.com/register",method:"POST",data:{form:l.value},success:({data:e})=>{200==e.code?o.value.show({message:e.message,type:"success",duration:"1000"}):o.value.show({message:e.message,type:"error",duration:"1000"})}})})).catch((e=>{o.value.show({message:"校验错误",type:"error",duration:"1000"})})):o.value.show({message:"请阅读相关协议",type:"error",duration:"1000"})},Y=()=>{B()};return(e,V)=>{const z=f,I=N,B=F(g("uv-input"),A),U=F(g("uv-form-item"),E),q=F(g("uv-icon"),L),W=F(g("uv-code"),ie),G=F(g("uv-button"),R),K=F(g("uv-checkbox"),ne),J=F(g("uv-checkbox-group"),se),te=F(g("uv-form"),Z),ae=F(g("uv-action-sheet"),re),oe=F(g("uv-datetime-picker"),de),le=F(g("uv-toast"),P);return m(),w(M,null,[y(z,{class:"status_bar",style:C({height:O(Q)()+"px"})},null,8,["style"]),y(z,{class:"titleBar",style:C({height:O(ee)()+"px"})},{default:v((()=>[y(I,{src:X,onClick:Y}),y(z,{class:"navTitle"},{default:v((()=>[k(" 注册 ")])),_:1})])),_:1},8,["style"]),y(z,{class:"logo"}),y(z,{class:"form"},{default:v((()=>[y(te,{labelPosition:"left",model:l.value,rules:u.value,ref_key:"form",ref:a,labelWidth:"140rpx"},{default:v((()=>[y(U,{label:"用户名",prop:"name",borderBottom:""},{default:v((()=>[y(B,{modelValue:l.value.name,"onUpdate:modelValue":V[0]||(V[0]=e=>l.value.name=e),border:"none",placeholder:"请输入用户名"},null,8,["modelValue"])])),_:1}),y(U,{label:"性别",prop:"gender",borderBottom:"",onClick:p},{right:v((()=>[y(q,{name:"arrow-right"})])),default:v((()=>[y(B,{modelValue:l.value.gender,"onUpdate:modelValue":V[1]||(V[1]=e=>l.value.gender=e),disabled:"",disabledColor:"#ffffff",placeholder:"请选择性别",border:"none"},null,8,["modelValue"])])),_:1}),y(U,{label:"出生日期",prop:"birth",borderBottom:"",onClick:$},{right:v((()=>[y(q,{name:"arrow-right"})])),default:v((()=>[y(B,{value:S(l.value.birth),disabled:"",disabledColor:"#ffffff",placeholder:"请选择日期",border:"none"},null,8,["value"])])),_:1}),y(U,{label:"密码",prop:"password",borderBottom:""},{default:v((()=>[y(B,{modelValue:l.value.password,"onUpdate:modelValue":V[2]||(V[2]=e=>l.value.password=e),type:"password",border:"none",placeholder:"请输入密码"},null,8,["modelValue"])])),_:1}),y(U,{label:"确认密码",prop:"rePassword",borderBottom:""},{default:v((()=>[y(B,{modelValue:l.value.rePassword,"onUpdate:modelValue":V[3]||(V[3]=e=>l.value.rePassword=e),type:"password",border:"none",placeholder:"请再次确认密码"},null,8,["modelValue"])])),_:1}),y(U,{label:"邮箱",prop:"email",borderBottom:""},{default:v((()=>[y(B,{modelValue:l.value.email,"onUpdate:modelValue":V[4]||(V[4]=e=>l.value.email=e),border:"none",placeholder:"请输入邮箱"},null,8,["modelValue"])])),_:1}),y(U,{label:"验证码",prop:"code",borderBottom:""},{right:v((()=>[y(W,{seconds:"10",ref_key:"code",ref:r,onChange:T,onEnd:H},null,512),y(G,{size:"mini",type:"success",onClick:x,disabled:d.value},{default:v((()=>[k(_(h.value),1)])),_:1},8,["disabled"])])),default:v((()=>[y(B,{modelValue:l.value.code,"onUpdate:modelValue":V[5]||(V[5]=e=>l.value.code=e),placeholder:"请输入验证码",border:"none"},null,8,["modelValue"])])),_:1}),y(z,{class:"borderbox"},{default:v((()=>[y(J,{class:"protocol",modelValue:t.value,"onUpdate:modelValue":V[6]||(V[6]=e=>t.value=e),shape:"circle",size:"30rpx",labelSize:"26rpx",iconSize:"20rpx"},{default:v((()=>[y(K,{class:"checkbox",name:1,label:"我已阅读相关协议",labelColor:"grey"})])),_:1},8,["modelValue"])])),_:1}),y(G,{type:"primary",text:"注册",customStyle:"margin-top: 10px",onClick:j})])),_:1},8,["model","rules"]),y(ae,{ref_key:"Select",ref:i,actions:c.value,title:"请选择性别",onSelect:b},null,8,["actions"]),y(oe,{ref_key:"datetimePicker",ref:s,modelValue:n.value,"onUpdate:modelValue":V[7]||(V[7]=e=>n.value=e),mode:"date",onConfirm:D},null,8,["modelValue"]),y(le,{ref_key:"toast",ref:o},null,512)])),_:1})],64)}}},[["__scopeId","data-v-5f42c8a3"]]);export{me as default};
